<!--room-list.wxml-->
<navigation-bar title="æˆ‘çš„æˆ¿é—´" back="{{true}}" color="black" background="#FFF"></navigation-bar>

<scroll-view class="scrollarea" scroll-y type="list" enable-back-to-top="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{loading}}" bindrefresherrefresh="onPullDownRefresh">
  <view class="container">
    <!-- æˆ¿é—´åˆ—è¡¨ -->
    <view class="room-list" wx:if="{{rooms.length > 0}}">
      <view 
        class="room-item" 
        wx:for="{{rooms}}" 
        wx:key="room.id"
        data-code="{{item.room.code}}"
        bindtap="onRoomTap"
      >
        <view class="room-header">
          <view class="room-info">
            <text class="room-code">æˆ¿é—´å·: {{item.room.code}}</text>
            <view class="room-status-wrapper">
              <view class="room-status {{item.room.status === 'active' ? 'status-active' : 'status-closed'}}">
                {{item.room.status === 'active' ? 'å¼€å¯ä¸­' : 'å…³é—­'}}
              </view>
              <view class="room-owner-badge" wx:if="{{item.isOwner}}">æˆ‘çš„</view>
            </view>
          </view>
        </view>
        
        <view class="room-footer">
          <text class="room-time">{{item.formattedCreatedAt}}</text>
          <text class="room-owner">æˆ¿ä¸»: {{item.room.owner.username}}</text>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:else>
      <text class="empty-icon">ğŸ </text>
      <text class="empty-text">æš‚æ— æˆ¿é—´è®°å½•</text>
      <text class="empty-desc">è¿‘3ä¸ªæœˆå†…åˆ›å»ºæˆ–åŠ å…¥çš„æˆ¿é—´å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</text>
    </view>
  </view>
</scroll-view>

